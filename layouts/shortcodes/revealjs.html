<iframe id="slideFrame" src="{{"none.html" | relURL }}" style="width:{{with .Get "width"}}{{.}}{{else}}100%{{end}};height:{{with .Get "height"}}{{.}}{{else}}30em{{end}}; border:0px"></iframe>

<div id="slideContent">
	<link rel="stylesheet" href="/revealjs/css/reveal.css">
	<link rel="stylesheet" href="/revealjs/css/theme/simple.css" id="theme">

	<div class="reveal">
	<div class="slides">
	<section data-markdown
	         data-separator="^___"
		 data-separator-notes="^Note:"
		data-charset="utf8">
		{{ .Inner | safeHTML}}
	</section>
	</div>
	</div>

	<script src="/revealjs/lib/js/head.min.js"></script>
	<script src="/revealjs/js/reveal.js"></script>
	<script>
	function initSlides() {
		Reveal.initialize({
		      	embedded : true,		        
		      	controls: true,
                slideNumber: true,
                center: true,
                transition: 'fade',

		        // theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
		        // Optional libraries used to extend on revealjs
		        dependencies: [
		          { src: "/revealjs/lib/js/classList.js", condition: function() { return !document.body.classList; } },
		          { src: "/revealjs/plugin/markdown/marked.js" condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
		          { src: "/revealjs/plugin/markdown/markdown.js" condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
		          { src: "/revealjs/plugin/highlight/highlight.js" async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
		          { src: "/revealjs/plugin/zoom-js/zoom.js" async: true, condition: function() { return !!document.body.classList; } },
		          { src: "/revealjs/plugin/notes/notes.js" async: true, condition: function() { return !!document.body.classList; } }
		        ]
		      });
	}
	</script>
</div>
<li><a href="#" onclick="slideFullScreen();">See it fullscreen</a></li>

<script type="text/javascript">
var toto = document.getElementById('slideContent').innerHTML
document.getElementById('slideFrame').contentWindow.document.write(document.getElementById('slideContent').innerHTML); 
document.getElementById('slideContent').remove();
document.addEventListener("DOMContentLoaded",function(){
	  setTimeout(function () {
      document.getElementById('slideFrame').contentWindow.initSlides() ;
    }, 2000);
});


function slideFullScreen() {
	document.open();
	document.write(toto);
	document.close();
	initSlides()
}
</script>